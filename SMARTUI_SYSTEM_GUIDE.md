# SmartUI æ™ºæ…§ç”¨æˆ·ç•Œé¢ç³»ç»Ÿ

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

SmartUIæ˜¯PowerAutomationç”Ÿæ€ç³»ç»Ÿä¸­çš„æ™ºæ…§ç”¨æˆ·ç•Œé¢ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›å®Œæ•´çš„Webç®¡ç†ç•Œé¢å’ŒAPIæœåŠ¡ã€‚ç³»ç»Ÿé›†æˆäº†é£ä¹¦SDKã€MCPåè°ƒå™¨ã€GitHub Webhookç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›ç›´è§‚ã€é«˜æ•ˆçš„æ™ºèƒ½è‡ªåŠ¨åŒ–ç®¡ç†ä½“éªŒã€‚

### æ ¸å¿ƒç‰¹è‰²
- **ğŸ¨ ç°ä»£åŒ–ç•Œé¢è®¾è®¡** - å“åº”å¼ä¸‰æ å¸ƒå±€ï¼Œæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ğŸ”— å®Œæ•´å‰åç«¯åˆ†ç¦»** - Flaskåç«¯API + HTML/JavaScriptå‰ç«¯
- **ğŸ¤– æ™ºèƒ½äº¤äº’ä½“éªŒ** - AIèŠå¤©ç•Œé¢ï¼Œå®æ—¶çŠ¶æ€ç›‘æ§
- **ğŸ”§ ä¼ä¸šçº§é›†æˆ** - é£ä¹¦ã€GitHubã€MCPåè°ƒå™¨æ— ç¼é›†æˆ
- **ğŸ“Š å®æ—¶æ•°æ®å¯è§†åŒ–** - å·¥ä½œæµçŠ¶æ€ã€ç³»ç»Ÿç›‘æ§ã€æ€§èƒ½æŒ‡æ ‡

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SmartUI æ™ºæ…§ç•Œé¢ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯å±‚ (Frontend)                                          â”‚
â”‚  â”œâ”€ æ™ºæ…§Dashboard (1615è¡Œ)                                 â”‚
â”‚  â”œâ”€ AIèŠå¤©ç•Œé¢ (1205è¡Œ)                                    â”‚
â”‚  â”œâ”€ Webç®¡ç†ç•Œé¢ (1136è¡Œ)                                   â”‚
â”‚  â””â”€ Manusæ™ºèƒ½ä»‹å…¥ç•Œé¢ (845è¡Œ)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åç«¯å±‚ (Backend - Flask)                                   â”‚
â”‚  â”œâ”€ APIè·¯ç”±å±‚                                               â”‚
â”‚  â”‚  â”œâ”€ ç”¨æˆ·ç®¡ç†API (/api)                                  â”‚
â”‚  â”‚  â”œâ”€ é£ä¹¦é›†æˆAPI (/api/feishu)                          â”‚
â”‚  â”‚  â”œâ”€ MCPåè°ƒå™¨API (/api/mcp)                            â”‚
â”‚  â”‚  â””â”€ GitHub Webhook API (/api/github)                   â”‚
â”‚  â”œâ”€ æ•°æ®æ¨¡å‹å±‚                                              â”‚
â”‚  â”‚  â”œâ”€ ç”¨æˆ·æ¨¡å‹                                            â”‚
â”‚  â”‚  â”œâ”€ å·¥ä½œæµæ¨¡å‹                                          â”‚
â”‚  â”‚  â””â”€ ç³»ç»Ÿé…ç½®æ¨¡å‹                                        â”‚
â”‚  â””â”€ æ•°æ®å­˜å‚¨å±‚                                              â”‚
â”‚     â”œâ”€ SQLiteæ•°æ®åº“                                        â”‚
â”‚     â””â”€ é™æ€æ–‡ä»¶å­˜å‚¨                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é›†æˆå±‚ (Integration)                                       â”‚
â”‚  â”œâ”€ é£ä¹¦SDKé›†æˆ                                             â”‚
â”‚  â”œâ”€ GitHub APIé›†æˆ                                          â”‚
â”‚  â”œâ”€ MCPåè°ƒå™¨é›†æˆ                                           â”‚
â”‚  â””â”€ PowerAutomationæ ¸å¿ƒç³»ç»Ÿé›†æˆ                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›®å½•ç»“æ„è¯¦è§£

```
smartui/
â”œâ”€â”€ ğŸ“ src/                     # åç«¯æºç  (Flaskåº”ç”¨)
â”‚   â”œâ”€â”€ main.py                 # Flaskä¸»ç¨‹åº (47è¡Œ)
â”‚   â”œâ”€â”€ __init__.py             # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ ğŸ“ routes/              # APIè·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ user.py             # ç”¨æˆ·ç®¡ç†API (30è¡Œ)
â”‚   â”‚   â”œâ”€â”€ feishu.py           # é£ä¹¦é›†æˆAPI (280è¡Œ)
â”‚   â”‚   â”œâ”€â”€ mcp_coordinator.py  # MCPåè°ƒå™¨API (300è¡Œ)
â”‚   â”‚   â””â”€â”€ github_webhook.py   # GitHub Webhook API (330è¡Œ)
â”‚   â”œâ”€â”€ ğŸ“ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.py             # ç”¨æˆ·æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ workflow.py         # å·¥ä½œæµæ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ system_config.py    # ç³»ç»Ÿé…ç½®æ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ“ database/            # æ•°æ®åº“æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ app.db              # SQLiteæ•°æ®åº“
â”‚   â””â”€â”€ ğŸ“ static/              # é™æ€èµ„æº
â”‚       â””â”€â”€ index.html          # é»˜è®¤é¦–é¡µ
â”œâ”€â”€ ğŸ“ frontend/                # å‰ç«¯ç•Œé¢æ–‡ä»¶
â”‚   â”œâ”€â”€ smart_ui_enhanced_dashboard.html      # ä¸»Dashboard (1615è¡Œ)
â”‚   â”œâ”€â”€ ai_chat_interface_v2.html            # AIèŠå¤©ç•Œé¢ (1205è¡Œ)
â”‚   â”œâ”€â”€ client_webadmin_v2.html              # Webç®¡ç†ç•Œé¢ (1136è¡Œ)
â”‚   â”œâ”€â”€ smart_ui_manus_app_intervention.html # Manusä»‹å…¥ç•Œé¢ (845è¡Œ)
â”‚   â”œâ”€â”€ remote_deploy.sh                     # è¿œç¨‹éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ AI_CHAT_INTERFACE_SPEC_v0.2.md       # æ¥å£è§„èŒƒæ–‡æ¡£
â””â”€â”€ requirements.txt            # Pythonä¾èµ–åŒ…
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. åç«¯æœåŠ¡ (Flask Backend)

#### ä¸»ç¨‹åº (main.py)
**åŠŸèƒ½**: SmartUIç³»ç»Ÿçš„æ ¸å¿ƒæœåŠ¡å™¨
- **Flaskåº”ç”¨åˆå§‹åŒ–**: é…ç½®CORSã€æ•°æ®åº“ã€è“å›¾æ³¨å†Œ
- **ç¯å¢ƒå˜é‡ç®¡ç†**: é£ä¹¦ã€GitHubã€MCPåè°ƒå™¨é…ç½®
- **é™æ€æ–‡ä»¶æœåŠ¡**: å‰ç«¯ç•Œé¢æ–‡ä»¶æ‰˜ç®¡
- **æ•°æ®åº“é›†æˆ**: SQLiteæ•°æ®åº“è‡ªåŠ¨åˆå§‹åŒ–

#### APIè·¯ç”±ç³»ç»Ÿ

**ç”¨æˆ·ç®¡ç†API** (`/api`)
```python
# åŸºç¡€ç”¨æˆ·åŠŸèƒ½
GET  /api/users          # è·å–ç”¨æˆ·åˆ—è¡¨
POST /api/users          # åˆ›å»ºæ–°ç”¨æˆ·
GET  /api/users/{id}     # è·å–ç”¨æˆ·è¯¦æƒ…
PUT  /api/users/{id}     # æ›´æ–°ç”¨æˆ·ä¿¡æ¯
```

**é£ä¹¦é›†æˆAPI** (`/api/feishu`)
```python
# é£ä¹¦ä¼ä¸šåä½œé›†æˆ
POST /api/feishu/webhook           # é£ä¹¦äº‹ä»¶å›è°ƒ
GET  /api/feishu/groups           # è·å–ç¾¤ç»„åˆ—è¡¨
POST /api/feishu/send_message     # å‘é€é£ä¹¦æ¶ˆæ¯
GET  /api/feishu/notifications    # è·å–é€šçŸ¥åˆ—è¡¨
```

**MCPåè°ƒå™¨API** (`/api/mcp`)
```python
# MCPå·¥å…·åè°ƒç®¡ç†
GET  /api/mcp/status              # MCPç³»ç»ŸçŠ¶æ€
GET  /api/mcp/workflow/nodes      # å·¥ä½œæµèŠ‚ç‚¹çŠ¶æ€
POST /api/mcp/intervention/trigger # è§¦å‘æ™ºèƒ½ä»‹å…¥
GET  /api/mcp/tools               # è·å–å¯ç”¨å·¥å…·åˆ—è¡¨
```

**GitHubé›†æˆAPI** (`/api/github`)
```python
# GitHubä»£ç ä»“åº“é›†æˆ
POST /api/github/webhook          # GitHubäº‹ä»¶å›è°ƒ
GET  /api/github/repos            # è·å–ä»“åº“åˆ—è¡¨
GET  /api/github/sync/status      # åŒæ­¥çŠ¶æ€æŸ¥è¯¢
POST /api/github/deploy           # è§¦å‘éƒ¨ç½²
```

### 2. å‰ç«¯ç•Œé¢ç³»ç»Ÿ

#### æ™ºæ…§Dashboard (smart_ui_enhanced_dashboard.html)
**åŠŸèƒ½**: ç³»ç»Ÿä¸»æ§åˆ¶å°ï¼Œä¸‰æ å¸ƒå±€è®¾è®¡
- **å·¦ä¾§çŠ¶æ€é¢æ¿** (280pxå®½åº¦):
  - MCPåè°ƒå™¨çŠ¶æ€ç›‘æ§
  - é£ä¹¦é›†æˆçŠ¶æ€æ˜¾ç¤º
  - GitHubåŒæ­¥çŠ¶æ€è¿½è¸ª
  - ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
- **ä¸­é—´AIå¯¹è¯åŒºåŸŸ** (flex-1):
  - æ™ºèƒ½å¯¹è¯ç•Œé¢
  - å®æ—¶æ¶ˆæ¯äº¤äº’
  - AIå»ºè®®å¡ç‰‡æ˜¾ç¤º
  - å†å²å¯¹è¯è®°å½•
- **å³ä¾§å·¥ä½œæµDashboard** (400pxå®½åº¦):
  - ä¸‰èŠ‚ç‚¹å·¥ä½œæµå¯è§†åŒ–
  - å®æ—¶è¿›åº¦ç›‘æ§
  - å¿«é€Ÿæ“ä½œæŒ‰é’®
  - æ€§èƒ½æŒ‡æ ‡å±•ç¤º

#### AIèŠå¤©ç•Œé¢ (ai_chat_interface_v2.html)
**åŠŸèƒ½**: ä¸“é—¨çš„AIäº¤äº’ç•Œé¢
- **æ¶ˆæ¯è¾“å…¥åŒºåŸŸ**: æ”¯æŒæ–‡æœ¬å’Œæ–‡ä»¶è¾“å…¥
- **å¯¹è¯å†å²**: å®Œæ•´çš„å¯¹è¯è®°å½•å’Œæœç´¢
- **æ™ºèƒ½å»ºè®®**: åŸºäºä¸Šä¸‹æ–‡çš„æ™ºèƒ½å»ºè®®
- **å¤šæ¨¡æ€æ”¯æŒ**: æ–‡æœ¬ã€å›¾ç‰‡ã€æ–‡ä»¶ç­‰å¤šç§è¾“å…¥

#### Webç®¡ç†ç•Œé¢ (client_webadmin_v2.html)
**åŠŸèƒ½**: ç³»ç»Ÿç®¡ç†å’Œé…ç½®ç•Œé¢
- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·è´¦æˆ·åˆ›å»ºã€ç¼–è¾‘ã€æƒé™ç®¡ç†
- **ç³»ç»Ÿé…ç½®**: é£ä¹¦ã€GitHubã€MCPç­‰é›†æˆé…ç½®
- **ç›‘æ§é¢æ¿**: ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æƒ…å†µç›‘æ§
- **æ—¥å¿—æŸ¥çœ‹**: ç³»ç»Ÿæ“ä½œæ—¥å¿—å’Œé”™è¯¯æ—¥å¿—

#### Manusæ™ºèƒ½ä»‹å…¥ç•Œé¢ (smart_ui_manus_app_intervention.html)
**åŠŸèƒ½**: Manusåº”ç”¨æ™ºèƒ½ä»‹å…¥ä¸“ç”¨ç•Œé¢
- **ä»‹å…¥è§¦å‘**: æ‰‹åŠ¨å’Œè‡ªåŠ¨ä»‹å…¥è§¦å‘
- **çŠ¶æ€ç›‘æ§**: Manusåº”ç”¨çŠ¶æ€å®æ—¶ç›‘æ§
- **å»ºè®®å±•ç¤º**: æ™ºèƒ½ä»‹å…¥å»ºè®®å’Œæ“ä½œæŒ‡å¯¼
- **å†å²è®°å½•**: ä»‹å…¥å†å²å’Œæ•ˆæœåˆ†æ


## ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦è§£

### åç«¯æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶
- **Flask 2.3+**: è½»é‡çº§Webæ¡†æ¶
  - è“å›¾ (Blueprint) æ¨¡å—åŒ–è·¯ç”±ç®¡ç†
  - CORSè·¨åŸŸæ”¯æŒ
  - é™æ€æ–‡ä»¶æœåŠ¡
  - ç¯å¢ƒå˜é‡é…ç½®ç®¡ç†

#### æ•°æ®å­˜å‚¨
- **SQLAlchemy**: ORMæ•°æ®åº“æ“ä½œ
- **SQLite**: è½»é‡çº§å…³ç³»æ•°æ®åº“
- **æ–‡ä»¶å­˜å‚¨**: é™æ€èµ„æºå’Œä¸Šä¼ æ–‡ä»¶ç®¡ç†

#### é›†æˆSDK
- **é£ä¹¦SDK**: ä¼ä¸šåä½œå¹³å°é›†æˆ
  - äº‹ä»¶å›è°ƒå¤„ç†
  - æ¶ˆæ¯å‘é€å’Œæ¥æ”¶
  - ç¾¤ç»„ç®¡ç†
  - ç”¨æˆ·è®¤è¯
- **GitHub API**: ä»£ç ä»“åº“é›†æˆ
  - Webhookäº‹ä»¶å¤„ç†
  - ä»“åº“ä¿¡æ¯è·å–
  - è‡ªåŠ¨åŒ–éƒ¨ç½²è§¦å‘
  - åŒæ­¥çŠ¶æ€ç®¡ç†

#### ç½‘ç»œé€šä¿¡
- **requests**: HTTPå®¢æˆ·ç«¯åº“
- **hmac/hashlib**: å®‰å…¨ç­¾åéªŒè¯
- **json**: æ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–

### å‰ç«¯æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæŠ€æœ¯
- **HTML5**: ç°ä»£Webæ ‡å‡†
  - è¯­ä¹‰åŒ–æ ‡ç­¾
  - å“åº”å¼è®¾è®¡
  - ç§»åŠ¨è®¾å¤‡æ”¯æŒ
- **CSS3**: æ ·å¼å’Œå¸ƒå±€
  - Flexboxå¸ƒå±€
  - CSS Grid
  - åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
  - åª’ä½“æŸ¥è¯¢
- **JavaScript ES6+**: å‰ç«¯äº¤äº’é€»è¾‘
  - å¼‚æ­¥ç¼–ç¨‹ (async/await)
  - æ¨¡å—åŒ–å¼€å‘
  - DOMæ“ä½œ
  - äº‹ä»¶å¤„ç†

#### UI/UXè®¾è®¡
- **Font Awesome 6.4.0**: å›¾æ ‡åº“
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- **ä¸‰æ å¸ƒå±€**: çŠ¶æ€é¢æ¿ + ä¸»å†…å®¹åŒº + å·¥ä½œæµé¢æ¿
- **ç°ä»£åŒ–é…è‰²**: ç™½è‰²èƒŒæ™¯ + æ·±è‰²æ–‡å­— + è“è‰²å¼ºè°ƒ

#### æ•°æ®äº¤äº’
- **Fetch API**: ç°ä»£HTTPè¯·æ±‚
- **WebSocket**: å®æ—¶æ•°æ®é€šä¿¡ (è§„åˆ’ä¸­)
- **JSON**: æ•°æ®æ ¼å¼æ ‡å‡†
- **RESTful API**: æ ‡å‡†åŒ–æ¥å£è°ƒç”¨

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§è¯¦è§£

### ğŸ¨ ç”¨æˆ·ç•Œé¢ç‰¹æ€§

#### å“åº”å¼è®¾è®¡
- **æ¡Œé¢ç«¯**: ä¸‰æ å¸ƒå±€ï¼Œå……åˆ†åˆ©ç”¨å±å¹•ç©ºé—´
- **å¹³æ¿ç«¯**: è‡ªé€‚åº”å¸ƒå±€ï¼Œä¼˜åŒ–è§¦æ§ä½“éªŒ
- **æ‰‹æœºç«¯**: å•æ å¸ƒå±€ï¼Œç®€åŒ–æ“ä½œæµç¨‹

#### äº¤äº’ä½“éªŒ
- **å®æ—¶æ›´æ–°**: ç³»ç»ŸçŠ¶æ€å’Œæ•°æ®å®æ—¶åˆ·æ–°
- **æ™ºèƒ½æç¤º**: åŸºäºä¸Šä¸‹æ–‡çš„æ“ä½œå»ºè®®
- **å¿«é€Ÿæ“ä½œ**: ä¸€é”®è§¦å‘å¸¸ç”¨åŠŸèƒ½
- **è§†è§‰åé¦ˆ**: æ“ä½œçŠ¶æ€å’Œç»“æœå³æ—¶æ˜¾ç¤º

### ğŸ”— é›†æˆåŠŸèƒ½ç‰¹æ€§

#### é£ä¹¦ä¼ä¸šåä½œ
- **æ¶ˆæ¯æ¨é€**: ç³»ç»Ÿäº‹ä»¶è‡ªåŠ¨æ¨é€åˆ°é£ä¹¦ç¾¤ç»„
- **å·¥ä½œæµé€šçŸ¥**: å·¥ä½œæµçŠ¶æ€å˜æ›´å®æ—¶é€šçŸ¥
- **å›¢é˜Ÿåä½œ**: æ”¯æŒå¤šäººåä½œå’Œæƒé™ç®¡ç†
- **ç§»åŠ¨åŠå…¬**: é€šè¿‡é£ä¹¦ç§»åŠ¨ç«¯è¿œç¨‹ç®¡ç†

#### GitHubä»£ç ç®¡ç†
- **è‡ªåŠ¨åŒæ­¥**: ä»£ç ä»“åº“å˜æ›´è‡ªåŠ¨åŒæ­¥
- **éƒ¨ç½²è§¦å‘**: ä»£ç æäº¤è‡ªåŠ¨è§¦å‘éƒ¨ç½²æµç¨‹
- **çŠ¶æ€ç›‘æ§**: éƒ¨ç½²çŠ¶æ€å’Œç»“æœå®æ—¶ç›‘æ§
- **ç‰ˆæœ¬ç®¡ç†**: æ”¯æŒå¤šåˆ†æ”¯å’Œç‰ˆæœ¬æ§åˆ¶

#### MCPå·¥å…·åè°ƒ
- **æ™ºèƒ½è·¯ç”±**: è‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„MCPå·¥å…·
- **çŠ¶æ€ç›‘æ§**: MCPå·¥å…·è¿è¡ŒçŠ¶æ€å®æ—¶ç›‘æ§
- **æ€§èƒ½åˆ†æ**: å·¥å…·ä½¿ç”¨æƒ…å†µå’Œæ€§èƒ½åˆ†æ
- **æ‰©å±•æ”¯æŒ**: æ”¯æŒæ–°MCPå·¥å…·çš„åŠ¨æ€åŠ è½½

### ğŸš€ æ€§èƒ½ç‰¹æ€§

#### é«˜æ€§èƒ½æ¶æ„
- **å¼‚æ­¥å¤„ç†**: éé˜»å¡I/Oæ“ä½œ
- **ç¼“å­˜æœºåˆ¶**: æ•°æ®ç¼“å­˜å‡å°‘é‡å¤è¯·æ±‚
- **è¿æ¥æ± **: æ•°æ®åº“è¿æ¥å¤ç”¨
- **é™æ€èµ„æºä¼˜åŒ–**: CSS/JSæ–‡ä»¶å‹ç¼©å’Œç¼“å­˜

#### å¯æ‰©å±•æ€§
- **æ¨¡å—åŒ–è®¾è®¡**: ç»„ä»¶ç‹¬ç«‹ï¼Œæ˜“äºæ‰©å±•
- **æ’ä»¶æ¶æ„**: æ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶é›†æˆ
- **APIæ ‡å‡†åŒ–**: RESTful APIä¾¿äºé›†æˆ
- **é…ç½®çµæ´»**: ç¯å¢ƒå˜é‡é…ç½®ï¼Œé€‚åº”ä¸åŒéƒ¨ç½²ç¯å¢ƒ

## ğŸš€ å®‰è£…å’Œéƒ¨ç½²

### ç¯å¢ƒè¦æ±‚
- **Python**: 3.11+
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 12+, Ubuntu 20.04+
- **å†…å­˜**: æœ€å°‘2GBï¼Œæ¨è4GB+
- **å­˜å‚¨**: æœ€å°‘500MBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: éœ€è¦è®¿é—®é£ä¹¦å’ŒGitHub API

### å¿«é€Ÿå®‰è£…

#### 1. å®‰è£…ä¾èµ–
```bash
# è¿›å…¥SmartUIç›®å½•
cd smartui/

# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt
```

#### 2. é…ç½®ç¯å¢ƒå˜é‡
```bash
# åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cat > .env << EOF
# é£ä¹¦é…ç½®
FEISHU_APP_ID=your_feishu_app_id
FEISHU_APP_SECRET=your_feishu_app_secret
FEISHU_VERIFICATION_TOKEN=your_verification_token
FEISHU_ENCRYPT_KEY=your_encrypt_key

# GitHubé…ç½®
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret

# MCPåè°ƒå™¨é…ç½®
MCP_COORDINATOR_URL=http://localhost:8001
EOF
```

#### 3. åˆå§‹åŒ–æ•°æ®åº“
```bash
# è¿›å…¥srcç›®å½•
cd src/

# åˆå§‹åŒ–æ•°æ®åº“
python -c "
from main import app, db
with app.app_context():
    db.create_all()
    print('æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ')
"
```

#### 4. å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨Flaskåç«¯æœåŠ¡
python main.py

# æœåŠ¡å¯åŠ¨åœ¨ http://localhost:5001
```

### è®¿é—®ç•Œé¢

#### Webç•Œé¢è®¿é—®åœ°å€
- **ä¸»Dashboard**: `http://localhost:5001/static/smart_ui_enhanced_dashboard.html`
- **AIèŠå¤©ç•Œé¢**: `http://localhost:5001/static/ai_chat_interface_v2.html`
- **Webç®¡ç†ç•Œé¢**: `http://localhost:5001/static/client_webadmin_v2.html`
- **Manusä»‹å…¥ç•Œé¢**: `http://localhost:5001/static/smart_ui_manus_app_intervention.html`

#### APIæ¥å£æµ‹è¯•
```bash
# æµ‹è¯•ç³»ç»ŸçŠ¶æ€
curl http://localhost:5001/api/mcp/status

# æµ‹è¯•ç”¨æˆ·API
curl http://localhost:5001/api/users

# æµ‹è¯•é£ä¹¦é›†æˆ
curl http://localhost:5001/api/feishu/groups
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨æµç¨‹

#### 1. ç³»ç»Ÿåˆå§‹åŒ–
1. å¯åŠ¨SmartUIåç«¯æœåŠ¡
2. è®¿é—®ä¸»Dashboardç•Œé¢
3. æ£€æŸ¥ç³»ç»ŸçŠ¶æ€æŒ‡ç¤ºå™¨
4. ç¡®è®¤å„é›†æˆæœåŠ¡è¿æ¥æ­£å¸¸

#### 2. æ—¥å¸¸æ“ä½œ
1. **ç›‘æ§ç³»ç»ŸçŠ¶æ€**: é€šè¿‡å·¦ä¾§çŠ¶æ€é¢æ¿å®æ—¶ç›‘æ§
2. **AIäº¤äº’**: åœ¨ä¸­é—´å¯¹è¯åŒºåŸŸä¸AIåŠ©æ‰‹äº¤äº’
3. **å·¥ä½œæµç®¡ç†**: é€šè¿‡å³ä¾§é¢æ¿ç®¡ç†å·¥ä½œæµç¨‹
4. **å¿«é€Ÿæ“ä½œ**: ä½¿ç”¨å¿«æ·æŒ‰é’®æ‰§è¡Œå¸¸ç”¨æ“ä½œ

#### 3. é«˜çº§åŠŸèƒ½
1. **æ™ºèƒ½ä»‹å…¥**: é…ç½®å’Œè§¦å‘Manusæ™ºèƒ½ä»‹å…¥
2. **è‡ªåŠ¨åŒ–éƒ¨ç½²**: é€šè¿‡GitHubé›†æˆè‡ªåŠ¨éƒ¨ç½²
3. **å›¢é˜Ÿåä½œ**: é€šè¿‡é£ä¹¦é›†æˆè¿›è¡Œå›¢é˜Ÿåä½œ
4. **ç³»ç»Ÿç®¡ç†**: é€šè¿‡Webç®¡ç†ç•Œé¢è¿›è¡Œç³»ç»Ÿé…ç½®

### APIä½¿ç”¨ç¤ºä¾‹

#### è·å–ç³»ç»ŸçŠ¶æ€
```javascript
// è·å–MCPåè°ƒå™¨çŠ¶æ€
const response = await fetch('/api/mcp/status');
const status = await response.json();
console.log('MCPçŠ¶æ€:', status);
```

#### å‘é€é£ä¹¦æ¶ˆæ¯
```javascript
// å‘é€æ¶ˆæ¯åˆ°é£ä¹¦ç¾¤ç»„
const response = await fetch('/api/feishu/send_message', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        group_id: 'group_123',
        message: 'ç³»ç»Ÿéƒ¨ç½²å®Œæˆ',
        message_type: 'text'
    })
});
```

#### è§¦å‘æ™ºèƒ½ä»‹å…¥
```javascript
// è§¦å‘Manusæ™ºèƒ½ä»‹å…¥
const response = await fetch('/api/mcp/intervention/trigger', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        type: 'performance_issue',
        context: 'æ£€æµ‹åˆ°æ€§èƒ½é—®é¢˜',
        auto_fix: true
    })
});
```

### ç•Œé¢æ“ä½œæŒ‡å—

#### ä¸»Dashboardæ“ä½œ
1. **çŠ¶æ€ç›‘æ§**: å·¦ä¾§é¢æ¿æ˜¾ç¤ºå„ç³»ç»ŸçŠ¶æ€
   - ç»¿è‰²: æ­£å¸¸è¿è¡Œ
   - é»„è‰²: è­¦å‘ŠçŠ¶æ€
   - çº¢è‰²: é”™è¯¯çŠ¶æ€
2. **AIå¯¹è¯**: ä¸­é—´åŒºåŸŸè¿›è¡ŒAIäº¤äº’
   - è¾“å…¥æ¡†: è¾“å…¥é—®é¢˜æˆ–æŒ‡ä»¤
   - å‘é€æŒ‰é’®: å‘é€æ¶ˆæ¯
   - å†å²è®°å½•: æŸ¥çœ‹å¯¹è¯å†å²
3. **å·¥ä½œæµæ§åˆ¶**: å³ä¾§é¢æ¿ç®¡ç†å·¥ä½œæµ
   - èŠ‚ç‚¹çŠ¶æ€: æŸ¥çœ‹å„èŠ‚ç‚¹è¿è¡ŒçŠ¶æ€
   - è¿›åº¦æ¡: æ˜¾ç¤ºä»»åŠ¡å®Œæˆè¿›åº¦
   - æ“ä½œæŒ‰é’®: å¯åŠ¨ã€æš‚åœã€é‡å¯å·¥ä½œæµ

#### AIèŠå¤©ç•Œé¢æ“ä½œ
1. **æ¶ˆæ¯è¾“å…¥**: æ”¯æŒæ–‡æœ¬ã€æ–‡ä»¶ã€å›¾ç‰‡è¾“å…¥
2. **æ™ºèƒ½å»ºè®®**: ç³»ç»Ÿè‡ªåŠ¨æä¾›ç›¸å…³å»ºè®®
3. **å†å²æœç´¢**: æœç´¢å†å²å¯¹è¯å†…å®¹
4. **å¯¼å‡ºåŠŸèƒ½**: å¯¼å‡ºå¯¹è¯è®°å½•

#### Webç®¡ç†ç•Œé¢æ“ä½œ
1. **ç”¨æˆ·ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·è´¦æˆ·
2. **æƒé™è®¾ç½®**: é…ç½®ç”¨æˆ·æƒé™å’Œè§’è‰²
3. **ç³»ç»Ÿé…ç½®**: ä¿®æ”¹ç³»ç»Ÿå‚æ•°å’Œé›†æˆè®¾ç½®
4. **æ—¥å¿—æŸ¥çœ‹**: æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¥å¿—å’Œé”™è¯¯æ—¥å¿—


## ğŸ”§ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º

#### 1. å¼€å‘å·¥å…·æ¨è
- **IDE**: Visual Studio Code, PyCharm
- **Python**: 3.11+ (æ¨èä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ)
- **æµè§ˆå™¨**: Chrome/Firefox (ç”¨äºå‰ç«¯è°ƒè¯•)
- **APIæµ‹è¯•**: Postman, curl

#### 2. å¼€å‘ç¯å¢ƒé…ç½®
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv smartui_dev
source smartui_dev/bin/activate  # Linux/Mac
# æˆ–
smartui_dev\Scripts\activate     # Windows

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install flask-debugtoolbar  # è°ƒè¯•å·¥å…·
pip install pytest              # æµ‹è¯•æ¡†æ¶
```

#### 3. å¼€å‘æ¨¡å¼å¯åŠ¨
```bash
# è®¾ç½®å¼€å‘ç¯å¢ƒå˜é‡
export FLASK_ENV=development
export FLASK_DEBUG=1

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
cd src/
python main.py
```

### åç«¯å¼€å‘

#### æ·»åŠ æ–°çš„APIè·¯ç”±
```python
# 1. åœ¨ src/routes/ ç›®å½•ä¸‹åˆ›å»ºæ–°çš„è·¯ç”±æ–‡ä»¶
# ä¾‹å¦‚: src/routes/new_feature.py

from flask import Blueprint, request, jsonify

new_feature_bp = Blueprint('new_feature', __name__)

@new_feature_bp.route('/test', methods=['GET'])
def test_endpoint():
    return jsonify({
        'status': 'success',
        'message': 'æ–°åŠŸèƒ½æµ‹è¯•æ¥å£'
    })

# 2. åœ¨ main.py ä¸­æ³¨å†Œæ–°çš„è“å›¾
from src.routes.new_feature import new_feature_bp
app.register_blueprint(new_feature_bp, url_prefix='/api/new_feature')
```

#### æ•°æ®æ¨¡å‹å¼€å‘
```python
# åœ¨ src/models/ ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ•°æ®æ¨¡å‹
# ä¾‹å¦‚: src/models/workflow.py

from flask_sqlalchemy import SQLAlchemy
from datetime import datetime

db = SQLAlchemy()

class Workflow(db.Model):
    __tablename__ = 'workflows'
    
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    status = db.Column(db.String(20), default='pending')
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    
    def to_dict(self):
        return {
            'id': self.id,
            'name': self.name,
            'status': self.status,
            'created_at': self.created_at.isoformat()
        }
```

### å‰ç«¯å¼€å‘

#### ç•Œé¢å¼€å‘è§„èŒƒ
```html
<!-- æ ‡å‡†HTMLç»“æ„ -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartUI - åŠŸèƒ½åç§°</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- é¡µé¢å†…å®¹ -->
</body>
</html>
```

#### CSSæ ·å¼è§„èŒƒ
```css
/* ä½¿ç”¨ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿ */
:root {
    --primary-color: #3b82f6;
    --secondary-color: #64748b;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --error-color: #ef4444;
    --background-color: #ffffff;
    --text-color: #1f2937;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .desktop-only {
        display: none;
    }
}
```

#### JavaScriptå¼€å‘è§„èŒƒ
```javascript
// ä½¿ç”¨ç°ä»£JavaScriptè¯­æ³•
class SmartUIComponent {
    constructor(containerId) {
        this.container = document.getElementById(containerId);
        this.apiBaseUrl = '/api';
        this.init();
    }
    
    async init() {
        await this.loadData();
        this.bindEvents();
    }
    
    async loadData() {
        try {
            const response = await fetch(`${this.apiBaseUrl}/data`);
            const data = await response.json();
            this.renderData(data);
        } catch (error) {
            console.error('æ•°æ®åŠ è½½å¤±è´¥:', error);
        }
    }
    
    bindEvents() {
        // äº‹ä»¶ç»‘å®šé€»è¾‘
    }
    
    renderData(data) {
        // æ•°æ®æ¸²æŸ“é€»è¾‘
    }
}
```

### æµ‹è¯•å¼€å‘

#### åç«¯APIæµ‹è¯•
```python
# tests/test_api.py
import pytest
from src.main import app

@pytest.fixture
def client():
    app.config['TESTING'] = True
    with app.test_client() as client:
        yield client

def test_mcp_status(client):
    """æµ‹è¯•MCPçŠ¶æ€API"""
    response = client.get('/api/mcp/status')
    assert response.status_code == 200
    data = response.get_json()
    assert 'status' in data

def test_user_creation(client):
    """æµ‹è¯•ç”¨æˆ·åˆ›å»ºAPI"""
    response = client.post('/api/users', json={
        'username': 'test_user',
        'email': 'test@example.com'
    })
    assert response.status_code == 201
```

#### å‰ç«¯åŠŸèƒ½æµ‹è¯•
```javascript
// ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è¿›è¡Œæµ‹è¯•
// æˆ–é›†æˆè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶

// æµ‹è¯•APIè°ƒç”¨
async function testAPICall() {
    try {
        const response = await fetch('/api/mcp/status');
        const data = await response.json();
        console.log('APIæµ‹è¯•æˆåŠŸ:', data);
    } catch (error) {
        console.error('APIæµ‹è¯•å¤±è´¥:', error);
    }
}

// æµ‹è¯•ç•Œé¢äº¤äº’
function testUIInteraction() {
    const button = document.getElementById('test-button');
    button.click();
    // éªŒè¯é¢„æœŸç»“æœ
}
```

## ğŸ›¡ï¸ å®‰å…¨å’Œæ€§èƒ½

### å®‰å…¨ç‰¹æ€§

#### æ•°æ®å®‰å…¨
- **è¾“å…¥éªŒè¯**: æ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯
- **SQLæ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨ORMé˜²æ­¢SQLæ³¨å…¥
- **XSSé˜²æŠ¤**: è¾“å‡ºæ•°æ®è¿›è¡ŒHTMLè½¬ä¹‰
- **CSRFé˜²æŠ¤**: ä½¿ç”¨CSRFä»¤ç‰Œä¿æŠ¤è¡¨å•

#### è®¤è¯å’Œæˆæƒ
- **ä¼šè¯ç®¡ç†**: å®‰å…¨çš„ä¼šè¯ç®¡ç†æœºåˆ¶
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **APIå®‰å…¨**: APIå¯†é’¥å’Œç­¾åéªŒè¯
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨

#### ç½‘ç»œå®‰å…¨
- **HTTPSæ”¯æŒ**: ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶HTTPS
- **CORSé…ç½®**: åˆç†çš„è·¨åŸŸèµ„æºå…±äº«é…ç½®
- **è¯·æ±‚é™åˆ¶**: APIè¯·æ±‚é¢‘ç‡é™åˆ¶
- **æ—¥å¿—å®¡è®¡**: å®Œæ•´çš„å®‰å…¨æ—¥å¿—è®°å½•

### æ€§èƒ½ä¼˜åŒ–

#### åç«¯æ€§èƒ½
- **æ•°æ®åº“ä¼˜åŒ–**: ç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: Redisç¼“å­˜ã€å†…å­˜ç¼“å­˜
- **å¼‚æ­¥å¤„ç†**: é•¿æ—¶é—´ä»»åŠ¡å¼‚æ­¥æ‰§è¡Œ
- **è¿æ¥æ± **: æ•°æ®åº“è¿æ¥æ± ç®¡ç†

#### å‰ç«¯æ€§èƒ½
- **èµ„æºå‹ç¼©**: CSS/JSæ–‡ä»¶å‹ç¼©
- **å›¾ç‰‡ä¼˜åŒ–**: å›¾ç‰‡æ ¼å¼å’Œå¤§å°ä¼˜åŒ–
- **æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½å†…å®¹
- **CDNåŠ é€Ÿ**: é™æ€èµ„æºCDNåˆ†å‘

#### ç›‘æ§å’Œè°ƒä¼˜
- **æ€§èƒ½ç›‘æ§**: å®æ—¶æ€§èƒ½æŒ‡æ ‡ç›‘æ§
- **é”™è¯¯è¿½è¸ª**: é”™è¯¯æ—¥å¿—å’Œå¼‚å¸¸è¿½è¸ª
- **èµ„æºç›‘æ§**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç›‘æ§
- **ç”¨æˆ·ä½“éªŒ**: é¡µé¢åŠ è½½æ—¶é—´ã€å“åº”æ—¶é—´ç›‘æ§

## ğŸš€ éƒ¨ç½²å’Œè¿ç»´

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. æœåŠ¡å™¨é…ç½®
```bash
# ç³»ç»Ÿè¦æ±‚
- CPU: 2æ ¸å¿ƒä»¥ä¸Š
- å†…å­˜: 4GBä»¥ä¸Š
- å­˜å‚¨: 20GBä»¥ä¸Š
- ç½‘ç»œ: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

# è½¯ä»¶è¦æ±‚
- Python 3.11+
- Nginx (åå‘ä»£ç†)
- Supervisor (è¿›ç¨‹ç®¡ç†)
- SQLite/PostgreSQL (æ•°æ®åº“)
```

#### 2. éƒ¨ç½²è„šæœ¬
```bash
#!/bin/bash
# deploy.sh - SmartUIéƒ¨ç½²è„šæœ¬

# 1. æ›´æ–°ä»£ç 
git pull origin main

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. æ•°æ®åº“è¿ç§»
python -c "
from src.main import app, db
with app.app_context():
    db.create_all()
"

# 4. é‡å¯æœåŠ¡
supervisorctl restart smartui

# 5. é‡è½½Nginxé…ç½®
nginx -s reload

echo "SmartUIéƒ¨ç½²å®Œæˆ"
```

#### 3. Nginxé…ç½®
```nginx
# /etc/nginx/sites-available/smartui
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:5001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
    
    location /static/ {
        alias /path/to/smartui/src/static/;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

#### 4. Supervisoré…ç½®
```ini
# /etc/supervisor/conf.d/smartui.conf
[program:smartui]
command=/path/to/venv/bin/python /path/to/smartui/src/main.py
directory=/path/to/smartui/src
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/smartui.log
```

### è¿ç»´ç®¡ç†

#### æ—¥å¿—ç®¡ç†
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f /var/log/smartui.log

# æŸ¥çœ‹Nginxæ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
journalctl -u smartui -f
```

#### å¤‡ä»½ç­–ç•¥
```bash
#!/bin/bash
# backup.sh - æ•°æ®å¤‡ä»½è„šæœ¬

# å¤‡ä»½æ•°æ®åº“
cp /path/to/smartui/src/database/app.db /backup/smartui_$(date +%Y%m%d_%H%M%S).db

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf /backup/smartui_config_$(date +%Y%m%d_%H%M%S).tar.gz /path/to/smartui/src/

# æ¸…ç†æ—§å¤‡ä»½ (ä¿ç•™30å¤©)
find /backup -name "smartui_*" -mtime +30 -delete
```

#### ç›‘æ§å‘Šè­¦
```bash
# å¥åº·æ£€æŸ¥è„šæœ¬
#!/bin/bash
# health_check.sh

response=$(curl -s -o /dev/null -w "%{http_code}" http://localhost:5001/api/mcp/status)

if [ $response -eq 200 ]; then
    echo "SmartUIæœåŠ¡æ­£å¸¸"
else
    echo "SmartUIæœåŠ¡å¼‚å¸¸ï¼ŒçŠ¶æ€ç : $response"
    # å‘é€å‘Šè­¦é€šçŸ¥
    curl -X POST "https://api.feishu.cn/webhook/xxx" \
         -H "Content-Type: application/json" \
         -d '{"msg_type":"text","content":{"text":"SmartUIæœåŠ¡å¼‚å¸¸"}}'
fi
```

## ğŸ“ æ”¯æŒå’Œç»´æŠ¤

### å¸¸è§é—®é¢˜è§£å†³

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep :5001

# æ£€æŸ¥Pythonç¯å¢ƒ
python --version
pip list | grep flask

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /var/log/smartui.log
```

#### 2. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æƒé™
ls -la src/database/app.db

# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
python -c "
from src.main import app, db
with app.app_context():
    db.drop_all()
    db.create_all()
"
```

#### 3. å‰ç«¯ç•Œé¢æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥é™æ€æ–‡ä»¶è·¯å¾„
ls -la src/static/

# æ£€æŸ¥Nginxé…ç½®
nginx -t

# é‡å¯Nginx
systemctl restart nginx
```

### æŠ€æœ¯æ”¯æŒ

#### è”ç³»æ–¹å¼
- **GitHub Issues**: æäº¤BugæŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚
- **æŠ€æœ¯æ–‡æ¡£**: æŸ¥çœ‹è¯¦ç»†çš„APIæ–‡æ¡£å’Œå¼€å‘æŒ‡å—
- **ç¤¾åŒºè®¨è®º**: å‚ä¸å¼€å‘è€…ç¤¾åŒºè®¨è®º

#### è´¡çŒ®æŒ‡å—
1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç å˜æ›´
4. åˆ›å»ºPull Request
5. ä»£ç å®¡æŸ¥å’Œåˆå¹¶

### ç‰ˆæœ¬æ›´æ–°

#### æ›´æ–°æµç¨‹
1. **å¤‡ä»½æ•°æ®**: æ›´æ–°å‰å¤‡ä»½é‡è¦æ•°æ®
2. **åœæ­¢æœåŠ¡**: åœæ­¢SmartUIæœåŠ¡
3. **æ›´æ–°ä»£ç **: æ‹‰å–æœ€æ–°ä»£ç 
4. **å®‰è£…ä¾èµ–**: æ›´æ–°Pythonä¾èµ–åŒ…
5. **æ•°æ®åº“è¿ç§»**: æ‰§è¡Œæ•°æ®åº“ç»“æ„æ›´æ–°
6. **é‡å¯æœåŠ¡**: é‡æ–°å¯åŠ¨SmartUIæœåŠ¡
7. **éªŒè¯åŠŸèƒ½**: éªŒè¯æ›´æ–°ååŠŸèƒ½æ­£å¸¸

#### ç‰ˆæœ¬å…¼å®¹æ€§
- **å‘åå…¼å®¹**: æ–°ç‰ˆæœ¬ä¿æŒAPIå‘åå…¼å®¹
- **æ•°æ®è¿ç§»**: æä¾›æ•°æ®åº“è¿ç§»è„šæœ¬
- **é…ç½®æ›´æ–°**: è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶æ ¼å¼
- **åŠŸèƒ½åºŸå¼ƒ**: æå‰é€šçŸ¥åŠŸèƒ½åºŸå¼ƒè®¡åˆ’

---

## ğŸ“„ é™„å½•

### APIæ¥å£å®Œæ•´åˆ—è¡¨

#### ç”¨æˆ·ç®¡ç†API
```
GET    /api/users              # è·å–ç”¨æˆ·åˆ—è¡¨
POST   /api/users              # åˆ›å»ºæ–°ç”¨æˆ·
GET    /api/users/{id}         # è·å–ç”¨æˆ·è¯¦æƒ…
PUT    /api/users/{id}         # æ›´æ–°ç”¨æˆ·ä¿¡æ¯
DELETE /api/users/{id}         # åˆ é™¤ç”¨æˆ·
```

#### é£ä¹¦é›†æˆAPI
```
POST   /api/feishu/webhook           # é£ä¹¦äº‹ä»¶å›è°ƒ
GET    /api/feishu/groups           # è·å–ç¾¤ç»„åˆ—è¡¨
POST   /api/feishu/send_message     # å‘é€é£ä¹¦æ¶ˆæ¯
GET    /api/feishu/notifications    # è·å–é€šçŸ¥åˆ—è¡¨
POST   /api/feishu/upload_file      # ä¸Šä¼ æ–‡ä»¶åˆ°é£ä¹¦
```

#### MCPåè°ƒå™¨API
```
GET    /api/mcp/status              # MCPç³»ç»ŸçŠ¶æ€
GET    /api/mcp/workflow/nodes      # å·¥ä½œæµèŠ‚ç‚¹çŠ¶æ€
POST   /api/mcp/intervention/trigger # è§¦å‘æ™ºèƒ½ä»‹å…¥
GET    /api/mcp/tools               # è·å–å¯ç”¨å·¥å…·åˆ—è¡¨
POST   /api/mcp/tools/execute       # æ‰§è¡ŒMCPå·¥å…·
```

#### GitHubé›†æˆAPI
```
POST   /api/github/webhook          # GitHubäº‹ä»¶å›è°ƒ
GET    /api/github/repos            # è·å–ä»“åº“åˆ—è¡¨
GET    /api/github/sync/status      # åŒæ­¥çŠ¶æ€æŸ¥è¯¢
POST   /api/github/deploy           # è§¦å‘éƒ¨ç½²
GET    /api/github/branches         # è·å–åˆ†æ”¯åˆ—è¡¨
```

### é…ç½®å‚æ•°è¯´æ˜

#### ç¯å¢ƒå˜é‡é…ç½®
```bash
# é£ä¹¦é…ç½®
FEISHU_APP_ID=cli_powerautomation          # é£ä¹¦åº”ç”¨ID
FEISHU_APP_SECRET=your_app_secret          # é£ä¹¦åº”ç”¨å¯†é’¥
FEISHU_VERIFICATION_TOKEN=your_token       # é£ä¹¦éªŒè¯ä»¤ç‰Œ
FEISHU_ENCRYPT_KEY=your_encrypt_key        # é£ä¹¦åŠ å¯†å¯†é’¥

# GitHubé…ç½®
GITHUB_WEBHOOK_SECRET=your_webhook_secret  # GitHub Webhookå¯†é’¥

# MCPåè°ƒå™¨é…ç½®
MCP_COORDINATOR_URL=http://localhost:8001  # MCPåè°ƒå™¨åœ°å€

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///app.db              # æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

# æœåŠ¡é…ç½®
FLASK_ENV=production                       # Flaskè¿è¡Œç¯å¢ƒ
FLASK_DEBUG=0                             # è°ƒè¯•æ¨¡å¼å¼€å…³
SECRET_KEY=your_secret_key                # Flaskå¯†é’¥
```

### é”™è¯¯ä»£ç è¯´æ˜

#### HTTPçŠ¶æ€ç 
- **200**: è¯·æ±‚æˆåŠŸ
- **201**: åˆ›å»ºæˆåŠŸ
- **400**: è¯·æ±‚å‚æ•°é”™è¯¯
- **401**: æœªæˆæƒè®¿é—®
- **403**: æƒé™ä¸è¶³
- **404**: èµ„æºä¸å­˜åœ¨
- **500**: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### ä¸šåŠ¡é”™è¯¯ç 
- **1001**: ç”¨æˆ·ä¸å­˜åœ¨
- **1002**: å¯†ç é”™è¯¯
- **2001**: é£ä¹¦é›†æˆé…ç½®é”™è¯¯
- **2002**: GitHubé›†æˆé…ç½®é”™è¯¯
- **3001**: MCPåè°ƒå™¨è¿æ¥å¤±è´¥
- **3002**: å·¥å…·æ‰§è¡Œå¤±è´¥

---

**SmartUIæ™ºæ…§ç”¨æˆ·ç•Œé¢ç³»ç»Ÿ - è®©æ™ºèƒ½ç®¡ç†è§¦æ‰‹å¯åŠ** ğŸš€

*æ–‡æ¡£ç‰ˆæœ¬: v1.0*  
*æœ€åæ›´æ–°: 2025å¹´6æœˆ15æ—¥*  
*ç»´æŠ¤å›¢é˜Ÿ: PowerAutomationå¼€å‘å›¢é˜Ÿ*

